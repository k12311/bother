<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ä¸­ä¿¡å…„å¼Ÿ APP é¦–é </title>
  <style>
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: #fffbe6;
      text-align: center;
      padding: 1.2rem;
    }
    h1 {
      color: #d48806;
    }
    .section {
      background: #fff;
      border: 2px solid #ffd666;
      border-radius: 12px;
      margin: 1.5rem auto;
      padding: 1rem;
      max-width: 520px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
      min-height: 100px;
    }
    .button {
      background: #ffd666;
      border: none;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 0.5rem;
    }
    .quote {
      font-size: 1.3rem;
      color: #5b3a00;
      margin: 1rem 0;
      min-height: 2.5rem;
    }
    .badge {
      display: inline-block;
      background: #ffd666;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: bold;
      color: #000;
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.6);
      margin-top: 1rem;
    }
    .photo-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .photo-grid img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 10px;
      border: 2px solid #ffd666;
    }
    .date-display {
      font-size: 1rem;
      margin-bottom: 1rem;
      color: #8c6d1f;
    }
    #countdownTimer, #reminderInfo, #todayGameInfo, #nextGameInfo {
      font-family: monospace;
      min-height: 1.6rem;
    }
  </style>
</head>
<body>

  <h1>ğŸ˜ ä¸­ä¿¡å…„å¼Ÿ APP é¦–é </h1>
  <div class="date-display" id="todayDate"></div>

  <!-- ğŸ“œ ä»Šæ—¥èªéŒ„ -->
  <div class="section">
    <h2>ğŸ“œ ä»Šæ—¥èªéŒ„</h2>
    <div class="quote" id="dailyQuote">è¼‰å…¥ä¸­...</div>
  </div>

  <!-- ğŸ“† æ¯”è³½è³‡è¨Šå€ -->
  <div class="section">
    <h2>ğŸ“† ä»Šå¤©æ¯”è³½ & ä¸‹å ´æ¯”è³½</h2>
    <div id="todayGameInfo"></div>
    <div id="nextGameInfo"></div>
    <div id="countdownTimer"></div>
    <div id="reminderInfo"></div>
  </div>

  <!-- ğŸ—“ï¸ æ”¯æŒå…„å¼Ÿç¬¬å¹¾å¤© -->
  <div class="section">
    <h2>ğŸ—“ï¸ æˆ‘æ”¯æŒå…„å¼Ÿç¬¬å¹¾å¤©ï¼Ÿ</h2>
    <div id="fixedDaysResult">è¼‰å…¥ä¸­...</div>
    <div id="specialBadge"></div>
  </div>

  <!-- ğŸ… è§£é–å¾½ç« æ¸…å–® -->
  <div class="section">
    <h2>ğŸ… ä»»å‹™å¾½ç« </h2>
    <div id="badgeList"></div>
  </div>

  <!-- ğŸ“¸ å‡è³‡æ–™ç…§ç‰‡ç‰† -->
  <div class="section">
    <h2>ğŸ“¸ çƒè¿·ç…§ç‰‡ç‰†</h2>
    <div class="photo-grid">
      <img src="https://picsum.photos/seed/a/100" alt="photo1">
      <img src="https://picsum.photos/seed/b/100" alt="photo2">
      <img src="https://picsum.photos/seed/c/100" alt="photo3">
      <img src="https://picsum.photos/seed/d/100" alt="photo4">
    </div>
  </div>

  <script>
    const gameList = [
      { date: "2025-05-02", time: "18:35", team: "vs å¯Œé‚¦æ‚å°‡ï¼ˆä¸»å ´ï¼‰" },
      { date: "2025-05-03", time: "17:05", team: "vs å¯Œé‚¦æ‚å°‡ï¼ˆä¸»å ´ï¼‰" },
      { date: "2025-05-05", time: "18:35", team: "vs æ¨‚å¤©æ¡ƒçŒ¿ï¼ˆå®¢å ´ï¼‰" }
    ];

    const quotes = [
      "ä¸æ‹šæ€éº¼æœƒè´ï¼ â€” ç‹å‹å‰",
      "æ¯ä¸€å ´çƒï¼Œéƒ½æ˜¯ä¸€æ¬¡è­‰æ˜è‡ªå·±çš„æ©Ÿæœƒã€‚",
      "å…„å¼Ÿå°±æ˜¯ä¸€è¼©å­çš„ä¿¡ä»°ã€‚",
      "çƒä¾†å°±æ‰“ï¼Œçˆªä¾†å°±ä¸Šï¼",
      "ç›¸ä¿¡éšŠå‹ï¼Œä¹Ÿç›¸ä¿¡è‡ªå·±ã€‚",
      "è¼¸è´æ˜¯éç¨‹ï¼Œæ‹¼ç›¡å…¨åŠ›æ˜¯ä¿¡ä»°ã€‚",
      "ç”¨æ±—æ°´å¯«ä¸‹æ¦®è€€çš„åå­—ã€‚",
      "ä¸æ˜¯æœ€å¼·ï¼Œä½†æœ€åœ˜çµã€‚",
      "è·Œå€’æ²’é—œä¿‚ï¼Œç«™èµ·ä¾†å†æ‹¼å°±å°äº†ã€‚",
      "è®“æˆ‘å€‘ä¸€èµ·æŠŠä¸»å ´å®ˆä½ï¼"
    ];

    function getTodayQuote() {
      const today = new Date();
      const index = today.getDate() % quotes.length;
      document.getElementById("dailyQuote").innerText = quotes[index];
    }

    let notified = false;

    function loadGameInfo() {
      const today = new Date();
      document.getElementById("todayDate").innerText = `ğŸ“… ä»Šå¤©æ˜¯ ${today.getFullYear()} å¹´ ${today.getMonth() + 1} æœˆ ${today.getDate()} æ—¥`;

      const todayStr = today.toISOString().split("T")[0];
      const todayGame = gameList.find(g => g.date === todayStr);
      const now = new Date();

      const todayEl = document.getElementById("todayGameInfo");
      const nextEl = document.getElementById("nextGameInfo");
      const countdownEl = document.getElementById("countdownTimer");
      const reminderEl = document.getElementById("reminderInfo");

      const todayText = todayGame ? `ğŸ“ ä»Šå¤©æœ‰æ¯”è³½ï¼š${todayGame.date} ${todayGame.time} ${todayGame.team}` : "ğŸ“ ä»Šå¤©ç„¡æ¯”è³½";
      if (todayEl.innerText !== todayText) todayEl.innerText = todayText;

      const nextGame = gameList.find(g => new Date(`${g.date}T${g.time}`) > now);
      if (nextGame) {
        const targetTime = new Date(`${nextGame.date}T${nextGame.time}+08:00`);
        const diff = targetTime - now;
        const minutes = Math.floor(diff / (1000 * 60));
        const h = Math.floor(diff / (1000 * 60 * 60));
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);

        const nextText = `â­ï¸ ä¸‹å ´æ¯”è³½ï¼š${nextGame.date} ${nextGame.time} ${nextGame.team}`;
        const countdownText = `â³ ${h.toString().padStart(2, '0')}æ™‚ ${m.toString().padStart(2, '0')}åˆ† ${s.toString().padStart(2, '0')}ç§’`;
        const reminderText = `â° è·é›¢é–‹æ‰“ï¼š${minutes} åˆ†é˜`;

        if (nextEl.innerText !== nextText) nextEl.innerText = nextText;
        if (countdownEl.innerText !== countdownText) countdownEl.innerText = countdownText;
        if (reminderEl.innerText !== reminderText) reminderEl.innerText = reminderText;

        if (minutes === 30 && !notified && Notification.permission === "granted") {
          new Notification("ğŸ˜ æ¯”è³½æé†’", {
            body: `è·é›¢æ¯”è³½åªå‰© 30 åˆ†é˜ï¼${nextGame.team}`,
            icon: "https://upload.wikimedia.org/wikipedia/zh/1/13/Chinatrust_Brothers_Logo.png"
          });
          notified = true;
        }
        if (minutes > 30) notified = false;
      } else {
        nextEl.innerText = "â­ï¸ ç„¡ä¸‹å ´æ¯”è³½";
        countdownEl.innerText = "";
        reminderEl.innerText = "";
      }
    }

    function showSupportDays() {
      const startDate = new Date("2024-11-24");
      const today = new Date();
      const diffTime = today - startDate;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
      document.getElementById("fixedDaysResult").innerText = `ä½ æ”¯æŒå…„å¼Ÿå·²ç¶“ç¬¬ ${diffDays} å¤©å•¦ ğŸ’›`;
      const matchDates = ["2024-11-24"];
      const startStr = startDate.toISOString().split("T")[0];
      if (matchDates.includes(startStr)) {
        document.getElementById("specialBadge").innerHTML = `<span class="badge">ğŸ–ï¸ ç‰¹æ®Šå¾½ç« ï¼šä½ åœ¨æ¯”è³½æ—¥åŠ å…¥å…„å¼Ÿé™£ç‡Ÿï¼</span>`;
        addBadge("æ¯”è³½æ—¥åŠ å…¥ç« ");
      }
    }

    function addBadge(name) {
      const badgeBox = document.getElementById("badgeList");
      if (!badgeBox.innerHTML.includes(name)) {
        badgeBox.innerHTML += `<div class="badge">${name}</div>`;
      }
    }

    if (Notification.permission !== "granted") {
      Notification.requestPermission();
    }

    getTodayQuote();
    loadGameInfo();
    setInterval(loadGameInfo, 1000);
    showSupportDays();
  </script>
</body>
</html>

